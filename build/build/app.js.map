{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/app.js","js/parallax.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","//var React = require('react');\n//var IScroll = require('IScroll');\nvar parallax = require('./parallax.js');\n\nfunction ready(fn) {\n  if (document.readyState != 'loading') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n}\n\nready(function() {\n  /*new IScroll(document.body, {\n    mouseWheel: true\n  });*/\n  parallax.init(document.querySelectorAll('.parallax'));\n});\n","var parallax = (function() {\n\n  var window_width;\n\n  var getWindowSize = function() {\n    var w = window,\n      d = document,\n      e = d.documentElement,\n      g = d.getElementsByTagName('body')[0];\n\n    return {\n      width: w.innerWidth || e.clientWidth || g.clientWidth,\n      height: w.innerHeight || e.clientHeight || g.clientHeight\n    };\n  }\n\n  var offset = function(elt) {\n    var rect = elt.getBoundingClientRect(),\n      bodyElt = document.body;\n\n    return {\n      top: rect.top + bodyElt .scrollTop,\n      left: rect.left + bodyElt .scrollLeft\n    };\n  }\n\n  var getHeight = function(elem) {\n    return Math.max(elem.offsetHeight, elem.clientHeight);\n  }\n\n  var attachEvents = function(item) {\n    window.addEventListener('scroll', function() {\n      window_width = getWindowSize.width;\n      updateParallax(item, false);\n    });\n\n    window.addEventListener('resize', function() {\n      window_width = getWindowSize.width;\n      updateParallax(item, false);\n    });\n  }\n\n  var updateParallax = function(item, initial) {\n    var container_height;\n    var image = item.querySelector('img');\n    if (window_width < 992) {\n      container_height = (getHeight(item) > 0) ? getHeight(item) : getHeight(image);\n    } else {\n      container_height = (getHeight(item) > 0) ? getHeight(item) : 500;\n    }\n    var img_height = getHeight(image);\n    var parallax_dist = img_height - container_height;\n    var bottom = offset(item).top + container_height;\n    var top = offset(item).top;\n    var scrollTop = window.pageYOffset;\n    var windowHeight = window.innerHeight;\n    var windowBottom = scrollTop + windowHeight;\n    var percentScrolled = (windowBottom - top) / (container_height + windowHeight);\n    var parallax = (-1 * parallax_dist * percentScrolled) + container_height;\n\n    if ((bottom > scrollTop) && (top < (scrollTop + windowHeight))) {\n      image.style.transform = \"translate3d(0,\" + parallax + \"px,0)\";\n      image.style.webkitTransform = \"translate3d(0,\" + parallax + \"px,0)\";\n      image.style.MozTransform = \"translate3d(0,\" + parallax + \"px,0)\";\n      image.style.MozTransform = \"translate3d(0,\" + parallax + \"px,0)\";\n      image.style.msTransform = \"translate3d(0,\" + parallax + \"px,0)\";\n      image.style.OTransform = \"translate3d(0,\" + parallax + \"px,0)\";\n    }\n    if (initial) {\n      image.style.display = \"block\";\n    }\n  }\n\n  return {\n    init: function(items) {\n      window_width = getWindowSize.width\n      Array.prototype.forEach.call(items, function(item, i) {\n        item.classList.add('parallax');\n\n        Array.prototype.forEach.call(item.querySelectorAll('img'), function(img, i) {\n          img.style.backgroundImage = 'url(' + img.src + ')';\n          img.src = 'data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n        });\n\n        // Wait for image load\n        Array.prototype.forEach.call(item.querySelectorAll('img'), function(img, i) {\n          img.addEventListener('load', function() {\n            updateParallax(item, true);\n          });\n          if (img.complete) {\n            img.dispatchEvent(new Event('load'));\n          }\n        });\n\n        attachEvents(item);\n      });\n    }\n  };\n}());\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.returnExports = factory();\n  }\n}(this, function() {\n  return parallax;\n}));\n\nif (window.$) {\n  (function($) {\n    $.fn.parallax = function() {\n      parallax.init(this);\n\n      return this;\n    };\n  }(jQuery));\n}\n"]}